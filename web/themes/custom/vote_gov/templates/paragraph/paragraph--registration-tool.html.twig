{#
/**
 * @file
 * Default theme implementation to display a registration tool paragraph.
 *
 * @ingroup themeable
 */
#}

{% block paragraph %}
  <div class="bg-blue css-arrow page-vote">
    <div class="grid-container">
      <div class="grid-row grid-gap">
        <div class="tablet:grid-col-4">
         {% include '@vote_gov/partial/site-logo.html.twig' %}
        </div>
        <div id="skip-target" class="tablet:grid-col-8 right-shift">
          <section class="register align-bottom" role="region" aria-label="{{ content.field_heading | field_value }}">
            <header>
              <h1 class="main-heading" data-test="main-header">{{ content.field_heading | field_value }}</h1>
            </header>

              <form id="state-combo-box">
                <h2>{{ content.field_form_heading | field_value }}</h2>
                <div class="input-buttons-group">
                <input class="state-input" list="states" id="state-input" autocomplete="off" 
                  onfocus="stateListVisible()" onblur="stateListVisible()" onkeyup="filterStateList()">
                  <div class="input-control-container">
                    <button class="reset-btn" type="reset" alt="Clear the search form"></button>
                    <button 
                      id="dropdown-btn"
                      class="dropdown-btn" type="button"
                      onclick="stateListVisible()" onblur="stateListVisible()"></button>
                    <span class="btn-divider"></span>
                  </div>
                </div>
                <div id="results-container" style="display: none;">
                  <ul id="results-list">
                    {% set results = drupal_view_result('state_territory', 'block') %}
                    {% for result in results %}
                        {% set nodeID = result._entity.id() %}
                        {% set node_path = path('entity.node.canonical', {'node': nodeID}) %}
                        <li class="usa-language__submenu-item">
                        <a href="{{ node_path }}">{{ result.node_field_data_title }}</a>
                      </li>
                    {% endfor %}
                    </ul>
                </div>
              </form>     
                       
          </section>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

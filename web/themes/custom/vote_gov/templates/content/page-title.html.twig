{#
/**
 * @file
 * Vote.gov USWDS theme implementation for a page title.
 *
 * Available variables:
 * - title_attributes: HTML attributes for the page title element.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title: The page title, for use in the actual content.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 */
#}
{% set title = title | render | striptags | trim %}
{% set node_type = currentnode.bundle() %}

{# set alt title for state pages #}
{% if node_type == 'state_territory' %}
  {% if language == 'ko' and currentnode.field_is_state.0.value == 1 %}
    {# set title to alt text for state pages in korean #}
    {% set title = 'Register to vote in @state_name state' | t ({"@state_name": title}) %}
  {% else %}
    {% set title = 'Register to vote in @state_name' | t ({"@state_name": title}) %}
  {% endif %}
{% endif %}

{{ title_prefix }}
{% if title %}
  <h1{{ title_attributes.addClass('main-heading').setAttribute('data-test', 'main-header') }}>{{ title }}</h1>
{% endif %}
{{ title_suffix }}

@use "uswds-core" as *;
@use "mixins" as *;
@use "variables" as *;

#usa-search--expandable {
  order: 3;
  padding: 16px 24px;

  form {
    &:focus-within {
      .usa-input {
        background-position: 2% 40%;
        background-color: $bg-light;
        border-color: $base-primary;
        -webkit-transition: width .3s ease-in-out;
        -moz-transition: width .3s ease-in-out;
        -o-transition: width .3s ease-in-out;
        transition: width .3s ease-in-out;
        @include u-width('tablet');
        @include u-border(2px);
      }

      .usa-button--search {
        display: block;
        background-color: $bg-light;
        border-color: $base-primary;
        @include u-border(2px);
        @include u-border-left(0);
      }

      &:hover .usa-input, &:hover .search-icon {
        background-color: $bg-light;
      }
    }

    &:hover .usa-input, &:hover .search-icon {
      background-color: $bg-light-cool;
    }

    @include at-media-max('tablet-lg') {
      @include u-padding-x(3);
      justify-content: center;
    }

    .usa-input {
      background-image: url( '../../../votegov/img/svg/search.svg' );
      background-position: 15% 40%;
      background-repeat: no-repeat;
      overflow: visible;
      background-color: $bg-light;
      text-indent: 40px;
        
      @include u-radius('lg');
      @include u-border('transparent');
      height: 48px;
      @include u-width(15);
      
      @include at-media-max('tablet-lg') {
        background-position: 2% 40%;
        min-width: 100%;
        border-color: $bg-light-medium;
      }
    }

    .usa-input::placeholder {
      font-size: 17px;
      color: $base-dark;
      opacity: 1;
    }

    .usa-button--search {
      display: none;
      border-color: $bg-light-medium;
      background-color: $bg-light;
      -webkit-transition: width .3s ease-in-out;
      -moz-transition: width .3s ease-in-out;
      -o-transition: width .3s ease-in-out;
      transition: width .3s ease-in-out;
      @include u-margin-left('neg-6');
      @include u-radius-left(0);
      @include u-radius-right('lg');
      height: 48px;
      @include u-border(2px);
      @include u-border-left(0);

      @include at-media-max('tablet-lg') {
        display: block;
        @include u-border(1px);
        @include u-border-left(0);
      }

      &:hover svg path {
        fill: $ac-warm;
      }

        svg path {
          fill: $base-primary;
          top: 50%;
          @include u-height(4);
          @include u-width(4);
          @include u-padding(1);
        }
    }
  }
}